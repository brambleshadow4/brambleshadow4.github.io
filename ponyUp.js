var baseImage = "http://i.imgur.com/iERGXke.png";var ponies = [];for (var i = 0; i < 6; i++) {ponies[i] = document.createElement("div");ponies[i].className = "pony";ponies[i].style.width = "100px";ponies[i].style.height = "100px";ponies[i].style.position = "fixed";ponies[i].y = window.innerHeight/2-50;ponies[i].x = window.innerWidth/2-50;ponies[i].style.top = ponies[i].py + "px";ponies[i].style.left = ponies[i].px + "px";ponies[i].style.backgroundImage = "url(" + baseImage + ")";ponies[i].style.backgroundPosition = (i*100) + "px 0px";console.log(ponies[i]);ponies[i].v = Math.random()*10+5;ponies[i].d = i/3 * Math.PI+ Math.random()*Math.PI/6;document.body.appendChild(ponies[i]);}function run(){var ponies = document.getElementsByClassName("pony");for (var i = 0; i < ponies.length; i++) {var outOfbounds = false;if(ponies[i].x < -50 || ponies[i].x > window.innerWidth-50 || ponies[i].y < -50 || ponies[i].y > window.innerHeight-50)outOfbounds = true;ponies[i].x += Math.cos(ponies[i].d)*ponies[i].v;ponies[i].y += Math.sin(ponies[i].d)*ponies[i].v;ponies[i].style.top = ponies[i].y + "px";ponies[i].style.left = ponies[i].x + "px";if(ponies[i].x < -50 || ponies[i].x > window.innerWidth-50)ponies[i].d = Math.PI-ponies[i].d;if(ponies[i].y < -50 || ponies[i].y > window.innerHeight-50)ponies[i].d = 2*Math.PI-ponies[i].d;if((ponies[i].x < -50 || ponies[i].x > window.innerWidth-50 || ponies[i].y < -50 || ponies[i].y > window.innerHeight-50) && outOfbounds){ponies[i].y = window.innerHeight/2-50;ponies[i].x = window.innerWidth/2-50;ponies[i].style.top = ponies[i].py + "px";ponies[i].style.left = ponies[i].px + "px";}};}clearInterval(window.pony);window.pony = setInterval(run,1000/60);